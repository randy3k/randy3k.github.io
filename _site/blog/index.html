<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Blog - RTalks.net</title>

<meta name="author" content="Randy Lai">

<!-- Enable responsive viewport -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<!-- <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css" rel="stylesheet"> -->
<link href="/assets/css/bootstrap.css" rel="stylesheet" type="text/css" media="all">
<link href="/assets/css/pygments.css" rel="stylesheet" type="text/css" media="all">
<link href="/assets/css/style.css" rel="stylesheet" type="text/css" media="all">

<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script>
  (function() {
    var cx = '008225976323914720770:ha27dsnxije';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
</head>
<body>   
        <div class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>         
                <div><a href="/" class="navbar-brand">RTalks.net</a></div>
            </div>
            <div class="collapse navbar-collapse" id="navbar-collapse-1">
                <ul class="nav navbar-nav">
                       
                    <li ><a href="/profile/">Profile</a></li>
                      
                    <li ><a href="/research/">Research</a></li>
                      
                    <li ><a href="/software/">Software</a></li>
                        
                    <li class="active"><a href="/blog/">Blog</a></li>
                      
                </ul>
            </div>
        </div>
    </div>
    <div class="jumbotron">
        <div class="container">
            <h1>
            <span class="fa fa-code"></span> Blog 
            </h1>
            
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9 maincontent">
                    <a class="btn btn-danger" href="/blog/categories/">By Categories</a>
&nbsp;&nbsp;
<a class="btn btn-success" href="/blog/tags/">By Tags</a>

<!-- This loops through the paginated posts -->

  <h1><a href="/blog/switching-between-pythons-using-pyenv/">Switching between pythons using pyenv on OSX</a></h1>
  <div class="content">
    <p><span class="date">January 19 2015</span>  </p>
    
    
    
<ul class="tag-box inline list-unstyled">
  <li class="tag-icon"><span class="glyphicon glyphicon-tags"></span></li>

   
  	<li><a class="label label-success" href="/blog/tags/#python-ref">python <span class="tag-size">2</span></a></li>
   
  	<li><a class="label label-success" href="/blog/tags/#osx-ref">osx <span class="tag-size">4</span></a></li>
  

</ul>
  

      
    <h3 id="installation">Installation</h3>

<p>From <a href="https://github.com/yyuu/pyenv">pyenv</a>,</p>

<blockquote>
  <p>pyenv lets you easily switch between multiple versions of Python</p>
</blockquote>

<p>As always, I recommend to use <a href="http://brew.sh">homebrew</a> to install <code>pyenv</code>.<br />
Assuming that you have already installed homebrew, to install <code>pyenv</code>, you need</p>

<div class="highlight"><pre><code class="language-bash">brew update
brew install pyenv</code></pre></div>

<p>This will also create a hidden folder under your user directory <code>~/.pyenv</code>. In most cases,<br />
you don’t have look at this directory.</p>

<p>To enable <code>pyenv</code>, put the following into your <code>~/.bash_profile</code> or <code>~/.zshrc</code> if you are using <a href="http://www.zsh.org">zsh</a>. I strongly recommend zsh. Try to install it via homebrew and give it a try.</p>

<div class="highlight"><pre><code class="language-bash"><span class="nb">export </span><span class="nv">PYENV_ROOT</span><span class="o">=</span><span class="s2">&quot;$HOME/.pyenv&quot;</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;$PYENV_ROOT/bin:$PATH&quot;</span>
<span class="nb">eval</span> <span class="s2">&quot;$(pyenv init -)&quot;</span></code></pre></div>

<p>To enable shell completions, also add this to your shell config file</p>

<div class="highlight"><pre><code class="language-bash"><span class="c"># for bash shell</span>
<span class="k">if</span> <span class="o">[[</span> -f /usr/local/opt/pyenv/completions/pyenv.bash <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">source</span> /usr/local/opt/pyenv/completions/pyenv.bash
<span class="k">fi</span>

<span class="c"># for zsh shell</span>
<span class="k">if</span> <span class="o">[[</span> -f /usr/local/opt/pyenv/completions/pyenv.zsh <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">source</span> /usr/local/opt/pyenv/completions/pyenv.zsh
<span class="k">fi</span></code></pre></div>

<p>Resetting your shell terminal, and check if <code>pyenv</code> runs. To list supported versions of python</p>

<div class="highlight"><pre><code class="language-bash">pyenv install --list</code></pre></div>

<p>For academic use, I strongly recommend <code>anaconda3</code>, e.g., <code>anaconda3-2.1.0</code>. (Also, give a try to <code>pypy3</code>)<br />
Installation is a piece of cake.</p>

<div class="highlight"><pre><code class="language-bash">pyenv install anaconda3-2.1.0</code></pre></div>

<p>It may take some time for the installation process to finish.</p>

<p>To show available versions of python</p>

<div class="highlight"><pre><code class="language-bash">pyenv versions</code></pre></div>
<p>You should see <code>system</code> and  <code>anaconda3-2.1.0</code>. System python is the version of python first found along the <code>PATH</code> variable.</p>

<hr />

<h3 id="switch-between">Switch between</h3>

<ul>
  <li>To activate <code>anaconda3-2.1.0</code> in the current terminal session.</li>
</ul>

<div class="highlight"><pre><code class="language-bash">pyenv shell anaconda3-2.1.0
<span class="c"># check python version</span>
python -V
<span class="c"># Python 3.4.1 :: Anaconda 2.1.0 (x86_64)</span></code></pre></div>

<ul>
  <li>If you want to use <code>anaconda3-2.1.0</code> every time you visit a particular project directory, say <code>~/project</code>. </li>
</ul>

<div class="highlight"><pre><code class="language-bash"><span class="c"># unset the shell specific version</span>
pyenv shell --unset
<span class="c"># go to the project directory</span>
<span class="nb">cd</span> ~/project
pyenv <span class="nb">local </span>anaconda3-2.1.0
<span class="c"># check python version</span>
python -V
<span class="c"># Python 3.4.1 :: Anaconda 2.1.0 (x86_64)</span></code></pre></div>

<p>Note: you run <code>python -V</code> outside <code>project</code>, you will see the system python.</p>

<ul>
  <li>To use <code>anaconda3-2.1.0</code> globally, run <code>pyenv global anaconda3-2.1.0</code>. But I don’t recommend this.</li>
</ul>

<hr />

<h3 id="remove-pyenv">Remove pyenv</h3>

<p>If you really don’t like <code>pyenv</code> and want to remove all traces of <code>pyenv</code> files. Just remove <code>pyenv</code> from homebrew and remove the <code>~/.pyenv</code> directory. It will do the job. Of course, you have to also undo the changes made to the <code>~/.bashrc_profile</code> or <code>~/.zshrc</code> files.</p>


    
  </div>

  <h1><a href="/blog/git-aware-prompt/">Git aware prompt</a></h1>
  <div class="content">
    <p><span class="date">February 12 2014</span>  </p>
    
    
    
<ul class="tag-box inline list-unstyled">
  <li class="tag-icon"><span class="glyphicon glyphicon-tags"></span></li>

   
  	<li><a class="label label-success" href="/blog/tags/#git-ref">git <span class="tag-size">1</span></a></li>
  

</ul>
  

      
    <p>I love using git via commands. And it is very often that I have to run <code>git status</code> or <code>git branch</code> to check if I am on the right branch or I am doing anything correct. Git aware prompt displays the current branch and status of the current directory.</p>

<p>The code was originated from <a href="http://bytebaker.com/2012/01/09/show-git-information-in-your-prompt/">here</a> but I have made significant amount of changes, for example, adding color support and some bugs fixing.</p>

<p><img src="/assets/images/git.png" alt="" /></p>

<p>To use this, add the following to your <code>.bashrc</code> and restart your terminal!</p>

<script src="https://gist.github.com/1ff38257f4aaff87f3c7.js"> </script>


    
  </div>

  <h1><a href="/blog/shortcuts-in-osx-terminal/">Shortcuts in OSX-Terminal</a></h1>
  <div class="content">
    <p><span class="date">December 3 2013</span>  </p>
    
    
    
<ul class="tag-box inline list-unstyled">
  <li class="tag-icon"><span class="glyphicon glyphicon-tags"></span></li>

   
  	<li><a class="label label-success" href="/blog/tags/#osx-ref">osx <span class="tag-size">4</span></a></li>
  

</ul>
  

      
    <p>There are many useful shortcuts in OSX terminal. You may already know some of<br />
them, but I bet you don’t know all of them. I am providing a cheat sheet of those keyboard shortcuts. I only list those I think are useful, more can be found <a href="http://ss64.com/osx/syntax-bashkeyboard.html">here</a>. First of all, you may want to enable the meta key.</p>


    
    <p><a href="/blog/shortcuts-in-osx-terminal/">Read More... </a></p>
    
  </div>

  <h1><a href="/blog/python-web-server/">A simple python webserver</a></h1>
  <div class="content">
    <p><span class="date">October 24 2013</span>  </p>
    
    
    
<ul class="tag-box inline list-unstyled">
  <li class="tag-icon"><span class="glyphicon glyphicon-tags"></span></li>

   
  	<li><a class="label label-success" href="/blog/tags/#python-ref">python <span class="tag-size">2</span></a></li>
  

</ul>
  

      
    <p class="alert alert-warning">The command has been changed in Python 3: <code>python -m http.server</code>.</p>

<p>Python has a very simple web server which allows you to share a particular directory with a one line command.</p>

<div class="highlight"><pre><code>python -m SimpleHTTPServer 8000
</code></pre></div>

<p>Index directory can be then accessed by http://&lt;ip address&gt;:8000.</p>


    
    <p><a href="/blog/python-web-server/">Read More... </a></p>
    
  </div>

  <h1><a href="/blog/open-mpi/">Installating open-mpi on Mac</a></h1>
  <div class="content">
    <p><span class="date">October 24 2013</span>  </p>
    
    
    
<ul class="tag-box inline list-unstyled">
  <li class="tag-icon"><span class="glyphicon glyphicon-tags"></span></li>

   
  	<li><a class="label label-success" href="/blog/tags/#r-ref">r <span class="tag-size">2</span></a></li>
   
  	<li><a class="label label-success" href="/blog/tags/#osx-ref">osx <span class="tag-size">4</span></a></li>
   
  	<li><a class="label label-success" href="/blog/tags/#mavericks-ref">mavericks <span class="tag-size">2</span></a></li>
  

</ul>
  

      
    <p>This is a guide for installing <code>open-mpi</code> and <code>Rmpi</code> on Mac OSX.
<code>Open-mpi</code> is open source mpi library such allows scalable and parallel processing. To install <code>open-mpi</code>, you will need to install <a href="http://brew.sh">Homebrew</a> first. Then install <code>gfortran</code> and <code>open-mpi</code></p>

<div class="highlight"><pre><code class="language-bash">brew install gfortran
brew install open-mpi</code></pre></div>

<p>You will need a C complier. For OSX 10.9, see <a href="/blog/configuring-complier/">Configuring complier for R 3.0.1 on OSX 10.9 Mavericks</a>. For previous OS, the default llvm-gcc complier should work fine most of the time.</p>

<p>Final step, either open R in terminal or R GUI, and run</p>

<pre class="lang:r decode:true ">install.packages("Rmpi", type="source")</pre>

<p>This should install <code>Rmpi</code>.</p>

<p>To test <code>Rmpi</code></p>

<div class="highlight"><pre><code class="language-r"><span class="kn">library</span><span class="p">(</span>Rmpi<span class="p">)</span>
mpi.spawn.Rslaves<span class="p">()</span>
mpi.iparReplicate<span class="p">(</span><span class="m">100</span><span class="p">,</span> <span class="kp">mean</span><span class="p">(</span>rnorm<span class="p">(</span><span class="m">1000000</span><span class="p">)))</span>
mpi.close.Rslaves<span class="p">()</span></code></pre></div>

<p>Note: If you compile your own R, or install R via Homebrew or macport, it is more likely that Rmpi will fail to detect number of cores via <code>mpi.universe.size()</code>. In this case, you may need to specify the number of salves.</p>

<div class="highlight"><pre><code class="language-r"><span class="kn">library</span><span class="p">(</span>Rmpi<span class="p">)</span>
mpi.spawn.Rslaves<span class="p">(</span>nslaves<span class="o">=</span><span class="m">3</span><span class="p">)</span>
mpi.iparReplicate<span class="p">(</span><span class="m">100</span><span class="p">,</span> <span class="kp">mean</span><span class="p">(</span>rnorm<span class="p">(</span><span class="m">1000000</span><span class="p">)))</span>
mpi.close.Rslaves<span class="p">()</span></code></pre></div>


    
  </div>


<!-- Pagination links -->

<ul class="pagination">
  
    <li class="disabled"><a>Prev</a></li>
  

  
    
      <li class="active"><a href="#" >1</a></li>
    
  
    
      <li><a href="/blog/page/2/">2</a></li>
    
  

  
    <li><a href="/blog/page/2/">Next</a></li>
  
</ul>

            </div>         
            <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 sidebar">
                    <hr class="visible-xs visible-sm">

<div class="reset-box-sizing search">
    <p>Site search by Google:</p> <gcse:searchbox-only></gcse:searchbox-only>
</div>

<div class="github">
Github <i class="fa fa-github-square"></i>:
<a href="http://www.github.com/randy3k" class="btn btn-success btn-xs" target="_blank">
  <span class="glyphicon glyphicon-ok"></span> randy3k
</a>
</div>        
            </div> 
        </div>        
   </div>
   <div class="container"> 
        <hr>               
       <footer>
           <p>&copy; 2015 Randy Lai. Hosted on <a href="//github.com/randy3k">Github</a>, generated by <a href="//jekyllrb.com">Jekyll</a> and themed by <a href="//getbootstrap.com">Bootstrap 3</a>.
</p>
       </footer>   
   </div>
</body>
</html>
